import{d as w,y as s,K as $,r as l,b as F,o as i,c as m,f as U,e as n,i as u,g as j,u as p,w as v,N as _,F as h,p as E,h as H,H as O,aA as K,I as R}from"./index-0b96d5f9.js";import q from"./Card-40882a4d.js";import{g as G}from"./list-24fe8db7.js";import{m as J}from"./message-5fe7bad9.js";import{_ as Q}from"./DialogForm.vue_vue_type_script_setup_true_lang-3806e0ef.js";import{u as W}from"./hooks-dfeff162.js";import{d as X}from"./search-cc37b371.js";import"./calendar-f799a690.js";import"./user_avatar-a35b993e.js";const Y={width:24,height:24,body:'<path fill="currentColor" d="M11 11V7h2v4h4v2h-4v4h-2v-4H7v-2h4zm1 11C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10zm0-2a8 8 0 1 0 0-16a8 8 0 0 0 0 16z"/>'},Z=Y,ee={class:"main"},te={class:"w-full flex justify-between mb-4"},ae=w({name:"InformationManage"}),pe=w({...ae,setup(ne){const y=`
        <path class="path" d="
          M 30 15
          L 28 17
          M 25.61 25.61
          A 15 15, 0, 0, 1, 15 30
          A 15 15, 0, 1, 1, 27.99 7.5
          L 15 15
        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
      `,C={name:"",status:"",description:"",type:"",mark:""},e=s({current:1,pageSize:12,total:0}),d=s([]),g=s(!0),z=async()=>{try{const{data:t}=await G();d.value=t.list,e.value={...e.value,total:t.list.length}}catch{}finally{setTimeout(()=>{g.value=!1},500)}};$(()=>{z()});const c=s(!1),f=s({...C}),r=s(""),b=t=>{e.value.pageSize=t,e.value.current=1},x=t=>{e.value.current=t},I=t=>{K.confirm(t?`确认删除后${t.name}的所有岗位信息将被清空, 且无法恢复`:"","提示",{type:"warning"}).then(()=>{J("删除成功",{type:"success"})}).catch(()=>{})},L=t=>{c.value=!0,R(()=>{f.value={...t,status:t!=null&&t.isSetup?"1":"0"}})};return(t,o)=>{const S=l("el-button"),k=l("IconifyIconOffline"),V=l("el-icon"),D=l("el-input"),M=l("el-empty"),A=l("el-col"),N=l("el-row"),B=l("el-pagination"),P=F("loading");return i(),m("div",ee,[U("div",te,[n(S,{icon:p(W)(p(Z)),onClick:o[0]||(o[0]=a=>c.value=!0)},{default:u(()=>[j(" 新建岗位 ")]),_:1},8,["icon"]),n(D,{style:{width:"300px"},modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value=a),placeholder:"请输入岗位名称",clearable:""},{suffix:u(()=>[n(V,{class:"el-input__icon"},{default:u(()=>[v(n(k,{icon:p(X)},null,8,["icon"]),[[_,r.value.length===0]])]),_:1})]),_:1},8,["modelValue"])]),v((i(),m("div",{"element-loading-svg":y,"element-loading-svg-view-box":"-10, -10, 50, 50"},[v(n(M,{description:"暂无数据"},null,512),[[_,d.value.slice(e.value.pageSize*(e.value.current-1),e.value.pageSize*e.value.current).filter(a=>a.name.toLowerCase().includes(r.value.toLowerCase())).length===0]]),e.value.total>0?(i(),m(h,{key:0},[n(N,{gutter:16},{default:u(()=>[(i(!0),m(h,null,E(d.value.slice(e.value.pageSize*(e.value.current-1),e.value.pageSize*e.value.current).filter(a=>a.name.toLowerCase().includes(r.value.toLowerCase())),(a,T)=>(i(),H(A,{key:T,xs:24,sm:12,md:8,lg:6,xl:4},{default:u(()=>[n(q,{position:a,onDeleteItem:I,onManagePosition:L},null,8,["position"])]),_:2},1024))),128))]),_:1}),n(B,{class:"float-right",currentPage:e.value.current,"onUpdate:currentPage":o[2]||(o[2]=a=>e.value.current=a),"page-size":e.value.pageSize,total:e.value.total,"page-sizes":[12,24,36],background:!0,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:b,onCurrentChange:x},null,8,["currentPage","page-size","total"])],64)):O("",!0)])),[[P,g.value]]),n(Q,{visible:c.value,"onUpdate:visible":o[3]||(o[3]=a=>c.value=a),data:f.value},null,8,["visible","data"])])}}});export{pe as default};
