import{d as w,y as s,K as B,r as n,b as T,o as r,c as u,f as M,e as l,i as c,w as d,u as U,N as _,F as f,p as j,h as F,H as O,I as E}from"./index-d0232ddc.js";import H from"./CardView-f729c91f.js";import{g as K}from"./list-865f1044.js";import{_ as $}from"./DialogFormView.vue_vue_type_script_setup_true_lang-5c90cfb9.js";import{d as q}from"./search-cc37b371.js";import"./calendar-efd3ed7c.js";import"./user_avatar-7d0560cd.js";const G={class:"main"},J={class:"w-full flex justify-between mb-4"},Q=w({name:"InformationView"}),le=w({...Q,setup(R){const h=`
        <path class="path" d="
          M 30 15
          L 28 17
          M 25.61 25.61
          A 15 15, 0, 0, 1, 15 30
          A 15 15, 0, 1, 1, 27.99 7.5
          L 15 15
        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
      `,y={name:"",status:"",description:"",type:"",mark:""},e=s({current:1,pageSize:12,total:0}),p=s([]),m=s(!0),C=async()=>{try{const{data:t}=await K();p.value=t.list,e.value={...e.value,total:t.list.length}}catch{}finally{setTimeout(()=>{m.value=!1},500)}};B(()=>{C()});const v=s(!1),g=s({...y}),i=s(""),z=t=>{e.value.pageSize=t,e.value.current=1},x=t=>{e.value.current=t},L=t=>{v.value=!0,E(()=>{g.value={...t,status:t!=null&&t.isSetup?"1":"0"}})};return(t,o)=>{const b=n("IconifyIconOffline"),S=n("el-icon"),V=n("el-input"),k=n("el-empty"),I=n("el-col"),D=n("el-row"),P=n("el-pagination"),A=T("loading");return r(),u("div",G,[M("div",J,[l(V,{style:{width:"300px"},modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),placeholder:"请输入岗位名称",clearable:""},{suffix:c(()=>[l(S,{class:"el-input__icon"},{default:c(()=>[d(l(b,{icon:U(q)},null,8,["icon"]),[[_,i.value.length===0]])]),_:1})]),_:1},8,["modelValue"])]),d((r(),u("div",{"element-loading-svg":h,"element-loading-svg-view-box":"-10, -10, 50, 50"},[d(l(k,{description:"暂无数据"},null,512),[[_,p.value.slice(e.value.pageSize*(e.value.current-1),e.value.pageSize*e.value.current).filter(a=>a.name.toLowerCase().includes(i.value.toLowerCase())).length===0]]),e.value.total>0?(r(),u(f,{key:0},[l(D,{gutter:16},{default:c(()=>[(r(!0),u(f,null,j(p.value.slice(e.value.pageSize*(e.value.current-1),e.value.pageSize*e.value.current).filter(a=>a.name.toLowerCase().includes(i.value.toLowerCase())),(a,N)=>(r(),F(I,{key:N,xs:24,sm:12,md:8,lg:6,xl:4},{default:c(()=>[l(H,{position:a,onViewPosition:L},null,8,["position"])]),_:2},1024))),128))]),_:1}),l(P,{class:"float-right",currentPage:e.value.current,"onUpdate:currentPage":o[1]||(o[1]=a=>e.value.current=a),"page-size":e.value.pageSize,total:e.value.total,"page-sizes":[12,24,36],background:!0,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:z,onCurrentChange:x},null,8,["currentPage","page-size","total"])],64)):O("",!0)])),[[A,m.value]]),l($,{visible:v.value,"onUpdate:visible":o[2]||(o[2]=a=>v.value=a),data:g.value},null,8,["visible","data"])])}}});export{le as default};
