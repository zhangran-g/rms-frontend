import{d as k,b as X,w as C,ad as Y,Y as F,G as a,$ as l,m as j,x as J,y as A,K as Q,aC as ee,r as s,o as oe,c as ne,f as u,e as o,u as e,D as te,i as n,aG as se,aH as ae,q as L,M,N,g as z,v as f,_ as le}from"./index-4f32348e.js";import{m as U}from"./message-cd8495f4.js";import{h as re,b as ie,u as de,a as ce,e as ue,f as pe,d as B,g as me}from"./dark-72e989a0.js";import{u as T}from"./hooks-a3feb376.js";import"./epTheme-bf6d5278.js";const h=k({name:"Motion",props:{delay:{type:Number,default:50}},render(){const{delay:g}=this,r=X("motion");return C(Y("div",{},{default:()=>[this.$slots.default()]}),[[r,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{delay:g}}}]])}}),_e=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,fe=F({password:[{validator:(g,r,p)=>{r===""?p(new Error(a(l("login.passwordReg")))):_e.test(r)?p():p(new Error(a(l("login.passwordRuleReg"))))},trigger:"blur"}]}),he={width:24,height:24,body:'<path fill="currentColor" d="M19 10h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h1V9a7 7 0 1 1 14 0v1zm-2 0V9A5 5 0 0 0 7 9v1h10zm-6 4v4h2v-4h-2z"/>'},ge={width:24,height:24,body:'<path fill="currentColor" d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12z"/>'},ve={class:"select-none"},we={class:"flex-c absolute right-5 top-3"},ye={class:"check-zh"},xe={class:"login-container"},ze={class:"login-box"},Ce={class:"login-form"},ke={class:"outline-none"},Ve=k({name:"Login"}),be=k({...Ve,setup(g){const{t:r}=j(),p=J(),v=A(!1),w=A(),{initStorage:H}=re();H();const{dataTheme:y,dataThemeChange:V}=ie();V();const{title:Z,getDropdownItemStyle:b,getDropdownItemClass:I}=de(),{locale:i,translationCh:G,translationEn:q}=ce(),d=F({username:"",password:"admin123"}),R=async m=>{v.value=!0,m&&await m.validate((t,x)=>{if(t)se().loginByUsername({username:d.username,password:"admin123"}).then(_=>{_.success?ae().then(()=>{p.push("/"),U(r("login.loginSuccess"),{type:"success"})}):U(r("login.usernotfound"),{type:"error"})});else return v.value=!1,x})};function $({code:m}){m==="Enter"&&R(w.value)}return Q(()=>{window.document.addEventListener("keypress",$)}),ee(()=>{window.document.removeEventListener("keypress",$)}),(m,t)=>{const x=s("el-switch"),_=s("IconifyIconOffline"),E=s("el-dropdown-item"),O=s("el-dropdown-menu"),P=s("el-dropdown"),D=s("el-input"),S=s("el-form-item"),K=s("el-button"),W=s("el-form");return oe(),ne("div",ve,[u("div",we,[o(x,{modelValue:e(y),"onUpdate:modelValue":t[0]||(t[0]=c=>te(y)?y.value=c:null),"inline-prompt":"","active-icon":e(ue),"inactive-icon":e(pe),onChange:e(V)},null,8,["modelValue","active-icon","inactive-icon","onChange"]),o(P,{trigger:"click"},{dropdown:n(()=>[o(O,{class:"translation"},{default:n(()=>[o(E,{style:L(e(b)(e(i),"en")),class:M(["dark:!text-white",e(I)(e(i),"en")]),onClick:e(q)},{default:n(()=>[C(o(_,{class:"check-en",icon:e(B)},null,8,["icon"]),[[N,e(i)==="en"]]),z(" "+f(e(a)(e(l)("interface.english"))),1)]),_:1},8,["style","class","onClick"]),o(E,{style:L(e(b)(e(i),"zh")),class:M(["dark:!text-white",e(I)(e(i),"zh")]),onClick:e(G)},{default:n(()=>[C(u("span",ye,[o(_,{icon:e(B)},null,8,["icon"])],512),[[N,e(i)==="zh"]]),z(" "+f(e(a)(e(l)("interface.chinese"))),1)]),_:1},8,["style","class","onClick"])]),_:1})]),default:n(()=>[o(e(me),{class:"hover:text-primary hover:!bg-[transparent] w-[20px] h-[20px] ml-1.5 cursor-pointer outline-none duration-300"})]),_:1})]),u("div",xe,[u("div",ze,[u("div",Ce,[o(e(h),null,{default:n(()=>[u("h2",ke,f(e(Z)),1)]),_:1}),o(W,{ref_key:"ruleFormRef",ref:w,model:d,rules:e(fe),size:"large"},{default:n(()=>[o(e(h),{delay:100},{default:n(()=>[o(S,{rules:[{required:!0,message:e(a)(e(l)("login.usernameReg")),trigger:"blur"}],prop:"username"},{default:n(()=>[o(D,{clearable:"",modelValue:d.username,"onUpdate:modelValue":t[1]||(t[1]=c=>d.username=c),placeholder:e(a)(e(l)("login.username")),"prefix-icon":e(T)(e(ge))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1},8,["rules"])]),_:1}),o(e(h),{delay:150},{default:n(()=>[o(S,{prop:"password"},{default:n(()=>[o(D,{clearable:"","show-password":"",modelValue:d.password,"onUpdate:modelValue":t[2]||(t[2]=c=>d.password=c),placeholder:e(a)(e(l)("login.password")),"prefix-icon":e(T)(e(he))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),o(e(h),{delay:250},{default:n(()=>[o(K,{class:"w-full mt-4",size:"default",type:"primary",loading:v.value,onClick:t[3]||(t[3]=c=>R(w.value))},{default:n(()=>[z(f(e(a)(e(l)("login.login"))),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])])}}});const Se=le(be,[["__scopeId","data-v-8677f5de"]]);export{Se as default};
