import{d as C,b as W,w as y,ad as X,Y as T,G as x,$ as z,x as Y,y as A,m as j,K as J,aC as Q,r as s,o as ee,c as oe,f as c,e as o,u as e,D as ne,i as n,aG as te,aH as se,q as L,M,N,g as w,v as S,_ as ae}from"./index-35996766.js";import{m as le}from"./message-93895667.js";import{h as re,b as ie,u as de,a as ce,e as ue,f as me,d as U,g as pe}from"./dark-29a33306.js";import{u as B}from"./hooks-d314ebbd.js";import"./epTheme-e4f941e1.js";const p=C({name:"Motion",props:{delay:{type:Number,default:50}},render(){const{delay:_}=this,l=W("motion");return y(X("div",{},{default:()=>[this.$slots.default()]}),[[l,{initial:{opacity:0,y:100},enter:{opacity:1,y:0,transition:{delay:_}}}]])}}),_e=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,fe=T({password:[{validator:(_,l,a)=>{l===""?a(new Error(x(z("login.passwordReg")))):_e.test(l)?a():a(new Error(x(z("login.passwordRuleReg"))))},trigger:"blur"}]}),he={width:24,height:24,body:'<path fill="currentColor" d="M19 10h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V11a1 1 0 0 1 1-1h1V9a7 7 0 1 1 14 0v1zm-2 0V9A5 5 0 0 0 7 9v1h10zm-6 4v4h2v-4h-2z"/>'},ge={width:24,height:24,body:'<path fill="currentColor" d="M20 22H4v-2a5 5 0 0 1 5-5h6a5 5 0 0 1 5 5v2zm-8-9a6 6 0 1 1 0-12a6 6 0 0 1 0 12z"/>'},ve={class:"select-none"},we={class:"flex-c absolute right-5 top-3"},ye={class:"check-en"},xe={class:"login-container"},ze={class:"login-box"},Ce={class:"login-form"},ke={class:"outline-none"},Ve=C({name:"Login"}),be=C({...Ve,setup(_){const l=Y(),a=A(!1),f=A(),{initStorage:F}=re();F();const{t:h}=j(),{dataTheme:g,dataThemeChange:k}=ie();k();const{title:H,getDropdownItemStyle:V,getDropdownItemClass:b}=de(),{locale:r,translationCh:Z,translationEn:G}=ce(),i=T({username:"admin",password:"admin123"}),I=async u=>{a.value=!0,u&&await u.validate((t,v)=>{if(t)te().loginByUsername({username:i.username,password:"admin123"}).then(m=>{m.success&&se().then(()=>{l.push("/"),le("登录成功",{type:"success"})})});else return a.value=!1,v})};function R({code:u}){u==="Enter"&&I(f.value)}return J(()=>{window.document.addEventListener("keypress",R)}),Q(()=>{window.document.removeEventListener("keypress",R)}),(u,t)=>{const v=s("el-switch"),m=s("IconifyIconOffline"),$=s("el-dropdown-item"),q=s("el-dropdown-menu"),O=s("el-dropdown"),E=s("el-input"),D=s("el-form-item"),P=s("el-button"),K=s("el-form");return ee(),oe("div",ve,[c("div",we,[o(v,{modelValue:e(g),"onUpdate:modelValue":t[0]||(t[0]=d=>ne(g)?g.value=d:null),"inline-prompt":"","active-icon":e(ue),"inactive-icon":e(me),onChange:e(k)},null,8,["modelValue","active-icon","inactive-icon","onChange"]),o(O,{trigger:"click"},{dropdown:n(()=>[o(q,{class:"translation"},{default:n(()=>[o($,{style:L(e(V)(e(r),"zh")),class:M(["dark:!text-white",e(b)(e(r),"zh")]),onClick:e(Z)},{default:n(()=>[y(o(m,{class:"check-zh",icon:e(U)},null,8,["icon"]),[[N,e(r)==="zh"]]),w(" 简体中文 ")]),_:1},8,["style","class","onClick"]),o($,{style:L(e(V)(e(r),"en")),class:M(["dark:!text-white",e(b)(e(r),"en")]),onClick:e(G)},{default:n(()=>[y(c("span",ye,[o(m,{icon:e(U)},null,8,["icon"])],512),[[N,e(r)==="en"]]),w(" English ")]),_:1},8,["style","class","onClick"])]),_:1})]),default:n(()=>[o(e(pe),{class:"hover:text-primary hover:!bg-[transparent] w-[20px] h-[20px] ml-1.5 cursor-pointer outline-none duration-300"})]),_:1})]),c("div",xe,[c("div",ze,[c("div",Ce,[o(e(p),null,{default:n(()=>[c("h2",ke,S(e(H)),1)]),_:1}),o(K,{ref_key:"ruleFormRef",ref:f,model:i,rules:e(fe),size:"large"},{default:n(()=>[o(e(p),{delay:100},{default:n(()=>[o(D,{rules:[{required:!0,message:e(x)(e(z)("login.usernameReg")),trigger:"blur"}],prop:"username"},{default:n(()=>[o(E,{clearable:"",modelValue:i.username,"onUpdate:modelValue":t[1]||(t[1]=d=>i.username=d),placeholder:e(h)("login.username"),"prefix-icon":e(B)(e(ge))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1},8,["rules"])]),_:1}),o(e(p),{delay:150},{default:n(()=>[o(D,{prop:"password"},{default:n(()=>[o(E,{clearable:"","show-password":"",modelValue:i.password,"onUpdate:modelValue":t[2]||(t[2]=d=>i.password=d),placeholder:e(h)("login.password"),"prefix-icon":e(B)(e(he))},null,8,["modelValue","placeholder","prefix-icon"])]),_:1})]),_:1}),o(e(p),{delay:250},{default:n(()=>[o(P,{class:"w-full mt-4",size:"default",type:"primary",loading:a.value,onClick:t[3]||(t[3]=d=>I(f.value))},{default:n(()=>[w(S(e(h)("login.login")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])])}}});const Ae=ae(be,[["__scopeId","data-v-37c71c16"]]);export{Ae as default};
